# Task Management System - Deployment Guide

This guide covers deploying your Task Management System using Docker and docker-compose.

## Quick Start

### Development
```bash
# Start development environment with hot reload
docker-compose -f docker-compose.yml -f docker-compose.override.yml up

# Or use the shortcut (override.yml is loaded by default)
docker-compose up
```

### Production
```bash
# Start production environment
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

### Testing
```bash
# Run tests in containerized environment
docker-compose -f docker-compose.yml -f docker-compose.test.yml up --abort-on-container-exit
```

## Environment Configuration

The application supports three environments:

- **Development** (`.env.development`): Debug enabled, hot reload, verbose logging
- **Production** (`.env.production`): Optimized for performance and security
- **Testing** (`.env.testing`): Configured for automated testing

## Services

### Application
- **Port**: 8000
- **Health Check**: Available at `/health` endpoint
- **Networks**: Connected to `sdd-network`

### Database (PostgreSQL)
- **Port**: 5432
- **Database**: sdd_db
- **Default Credentials**: sdd_user/sdd_password (change in production!)
- **Health Check**: pg_isready command
- **Persistence**: Data stored in `postgres_data` volume

### Monitoring (Prometheus)
- **Port**: 9090
- **Metrics**: Application metrics collected automatically
- **Dashboard**: Access Prometheus UI at http://localhost:9090

## Security Considerations

1. **Change default passwords** in production environment
2. **Set strong JWT secrets** in environment variables
3. **Use HTTPS** in production (configure reverse proxy)
4. **Review exposed ports** and limit access as needed
5. **Regular security updates** for base images

## Environment Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `DATABASE_URL` | PostgreSQL connection string | See .env files |
| `JWT_SECRET_KEY` | Secret key for JWT token signing | See .env files |
| `SECRET_KEY` | General application secret key | See .env files |

## Scaling

For production scaling:

```bash
# Scale application instances
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d --scale app=3

# Or use Docker Swarm for production orchestration
docker stack deploy -c docker-compose.yml -c docker-compose.prod.yml myapp
```

## Troubleshooting

### Common Issues

1. **Port conflicts**: Change port mappings in docker-compose.yml
2. **Database connection issues**: Ensure database service is healthy
3. **Permission issues**: Check file ownership for volumes

### Logs

```bash
# View application logs
docker-compose logs app

# Follow logs in real-time
docker-compose logs -f app

# View all service logs
docker-compose logs
```

### Health Checks

All services include health checks. Check status with:

```bash
docker-compose ps
```

## Generated Files

This deployment was auto-generated by SDD (Specification-Driven Development) based on your requirements and detected dependencies.

- `Dockerfile`: Optimized Python container
- `docker-compose.yml`: Multi-service orchestration
- `requirements.txt`: Python dependencies
- `.env.*`: Environment-specific configurations
- Override files: Environment-specific docker-compose configurations

For more information about SDD, visit the project documentation.
